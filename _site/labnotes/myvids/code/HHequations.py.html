<link href="txtstyle.css" rel="stylesheet" type="text/css" />
<pre>
from math import e

## All of these equations are taken from Koch's "Biophysics of
## Computation" textbook. See Chapter 6.

def Am(V):
	""" Returns alpha rate for sodium activation. Input V is a float
	specifying the current membrane potential in mV.
	"""
	return (25-V)/(10*(e**((25-V)/10)-1))
	
def Bm(V):
	""" Returns beta rate for sodium activation. Input V is a float
	specifying the current membrane potential in mV.
	"""
	return 4*e**(-V/18)

def Ah(V):
	""" Returns alpha rate for sodium inactivation. Input V is a float
	specifying the current membrane potential in mV.
	"""
	return 0.07*e**(-V/20)
	
def Bh(V):
	""" Returns beta rate for sodium inactivation. Input V is a float
	specifying the current membrane potential in mV.
	"""
	return 1/(e**((30-V)/10)+1)

def An(V):
	""" Returns alpha rate for potassium activation. Input V is a float
	specifying the current membrane potential in mV.
	"""
	return (10-V)/(100*(e**((10-V)/10)-1))
	
def Bn(V):
	""" Returns beta rate for potassium activation. Input V is a float
	specifying the current membrane potential in mV.
	"""
	return 0.125*e**(-V/80)


## Given the alpha and beta functions above, you can compute the steady
## state and time constants for each gating variable as follows:

def m_ss(V):
	""" Returns steady state for sodium activation. Input V is a float
	specifying the current membrane potential in mV.
	"""
	return Am(V)/(Am(V)+Bm(V))

def m_tau(V):
	""" Returns steady state for sodium activation. Input V is a float
	specifying the current membrane potential in mV.
	"""
	return 1/(Am(V)+Bm(V))
	
def h_ss(V):
	""" Returns steady state for sodium inactivation. Input V is a float
	specifying the current membrane potential in mV.
	"""
	return Ah(V)/(Ah(V)+Bh(V))

def h_tau(V):
	""" Returns steady state for sodium inactivation. Input V is a float
	specifying the current membrane potential in mV.
	"""
	return 1/(Ah(V)+Bh(V))
	
def n_ss(V):
	""" Returns steady state for potassium activation. Input V is a float
	specifying the current membrane potential in mV.
	"""
	return An(V)/(An(V)+Bn(V))

def n_tau(V):
	""" Returns steady state for potassium activation. Input V is a float
	specifying the current membrane potential in mV.
	"""
	return 1/(An(V)+Bn(V))
	
## You could write more elegant code in by making "Classes". This is 
## exactly what you should do if you have a more complicated
## conductance-based model. However, the HH model is simple enough that
## it doesn't make a big difference.
</pre>
